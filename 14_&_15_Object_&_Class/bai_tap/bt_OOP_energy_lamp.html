<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>bt_OOP_energy_lamp</title>
</head>
<body>
<script>
    class Battery{
        constructor(energy) {
            this.energy = energy ;
        }
        setEnergy(energy){
            this.energy = energy ;
        }
        getEnergy(){
            return this.energy ;
        }
        decreaseEnergy(){
            if (this.energy > 0){
                this.energy-- ;
            }
        }
    } ;
    class FlashLamp{
        constructor(status, battery) {
            this.status = status ;
            this.battery = battery ;
        }
        setBattery(battery){
            this.battery = battery ;
        }
        getBatteryInfo(){
            return this.battery.getEnergy() ; // trả về là this.energy
        }
        light(){
            if (this.status){
                alert("Lighting") ;
            }else {
                alert("Not lighting") ;
            }
        }
        turnOn(){
            this.status = true ;
        }
        turnOff(){
            this.status = false ;
        }
    } ;
    //================================================
    let battery1 = new Battery(10) ;
    let lamp1 = new FlashLamp(false, battery1) ;
    lamp1.light() ; // status = false ==> not lighting

    document.write('Battery info:' + lamp1.getBatteryInfo() + '<br>') ; // muc pin = 10 => khai bao
    lamp1.light() ; // status = false ==> not lighting

    document.write('Turn on <br>') ;
    lamp1.turnOn() ; // status = true
    lamp1.light() ; // status = true ==> lighting ==>alert hien ra truoc document.write
    document.write('Battery info:' + lamp1.getBatteryInfo() + '<br>')

    document.write('Turn off <br>') ;
    lamp1.turnOff() ; // status = false
    lamp1.light() ;  // status = false ==> not lighting ==>alert hien ra truoc document.write



</script>
</body>
</html>